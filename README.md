# Проект полнотекстового поиска

## Краткое описание

Десктопное приложение для полнотекстового поиска по заранее загруженной базе данных. Приложение выводит найденные релевантные документы, а также формирует краткий ответ с помощью нейронной сети.

**Пример работы приложения:**

![https://github.com/drema3-4/TextSearch/screenshots/primer.png](https://github.com/drema3-4/TextSearch/blob/main/screenshots/primer.png)

## Используемые технологии

- **Python**
  - Pandas
  - Numpy
  - Spacy
  - Elasticsearch
  - Transformers
  - Tkinter
- **Elasticsearch**
- **Transformers**
- **YandexGPT**

## Структура проекта

```
screenshots/ - пример работы проекта
src/ - основной код проекта
  backend/
    index.py - класс для работы с Elasticsearch
    processing_text.py - класс для подготовки текста
    short_answer.py - класс для работы с YandexGPT
  frontend/
    gui.py - класс графического интерфейса приложения
  main.py - точка входа в проект
news.xlsx - набор новостей для поиска
```

## Установка и настройка

1. Скачайте и установите Elasticsearch: [https://www.elastic.co/downloads/elasticsearch](https://www.elastic.co/downloads/elasticsearch)
2. Клонируйте репозиторий: `git clone git@github.com:drema3-4/TextSearch.git`
3. Откройте проект в PyCharm и установите необходимые библиотеки из файла `requirements.txt`: `pip install -r requirements.txt`
4. Настройте проект:
   1. Откройте файл `src/main.py`
   2. Закомментируйте строки 4-18
   3. Раскомментируйте строки 20-357
   4. В переменной `NUM_OF_DOCS` (строка 24) укажите количество документов для загрузки (от 1 до 10000)
   5. Запустите Elasticsearch
   6. Запустите проект и введите в командной строке `init` - документы будут загружены в Elasticsearch
   7. После завершения загрузки введите `stop`
   8. Закомментируйте строки 20-357
   9. Раскомментируйте строки 4-18
5. Настройте YandexCloud:
   1. Откройте файл `src/backend/short_answer.py`
   2. Введите свои данные от YandexCloud (без этого краткий ответ формироваться не будет)
6. Запустите проект - если все шаги выполнены правильно, появится графический интерфейс поисковой системы

## Подробное описание проекта

Проект реализует систему полнотекстового поиска по заранее загруженному массиву данных. В качестве данных используются 17 тысяч новостей, спарсенных с сайта ВШЭ. Парсинг выполнялся в отдельном [проекте](https://github.com/drema3-4/Parse_news.git).

### Основные функции:

- **Подготовка данных**: токенизация, лемматизация и очистка от стоп-слов с использованием Spacy и средств Elasticsearch
- **Индексирование**: создание и наполнение индексов в Elasticsearch
- **Поиск**: полнотекстовый поиск (по совпадению слов) и семантический поиск (по векторным представлениям - эмбеддингам)
- **Формирование ответов**: генерация кратких ответов с помощью YandexGPT API на основе релевантной выдачи
- **Пользовательский интерфейс**: удобный графический интерфейс на Tkinter для взаимодействия с поисковой системой
